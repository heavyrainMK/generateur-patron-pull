<!--
# *******************************************************
# Nom ......... : formulaire.html
# Rôle ........ : Interface utilisateur pour la génération de patrons de pull personnalisés
# Auteurs ..... : M, L, M
# Version ..... : V2.2.5 du 17/07/2025
# Licence ..... : Réalisé dans le cadre du cours de la Réalisation de Programmes
# Description . : Formulaire web interactif permettant de saisir les mesures corporelles
#                 et spécifications techniques pour générer un patron de tricot personnalisé
# Technologies : HTML5, CSS3, JavaScript
# Dépendances . : style.css, script.js
# Usage ....... : Ouvrir dans un navigateur web moderne
# *******************************************************
-->

<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Générateur de Patron de Pull Professionnel</title>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <!-- Bouton retour à l'accueil -->
    <a href="page_accueille.html" class="back-home">← Retour</a>
    <!-- Éléments décoratifs -->
    <div class="floating-element float-1"><img src="images/measurement.png" alt="Image" class="icone-blanche"></div>
    <div class="floating-element float-2"><img src="images/fashion-design.png" alt="Image" class="icone-blanche"></div>
    <div class="floating-element float-3"><img src="images/sweatshirt.png" alt="Image" class="icone-blanche"></div>
    <div class="floating-element float-4"><img src="images/buttons.png" alt="Image" class="icone-blanche"></div>
    <div class="floating-element float-5"><img src="images/knitting.png" alt="Image" class="icone-blanche"></div>
    <div class="floating-element float-6"><img src="images/pattern.png" alt="Image" class="icone-blanche"></div>

    <div class="conteneur">
      <h1>
        <span class="emoji">🧶</span>
        <span class="texte-dégradé">Générateur de Patron de Pull</span>
      </h1>
      <p class="sous-titre">Créez des patrons de pulls personnalisés et professionnels</p>

      <div class="conteneur-progression">
        <div class="barre-progression">
          <div class="remplissage-progression" id="remplissageProgression"></div>
        </div>
        <div class="etapes-progression">
          <div class="etape active" data-etape="1">
            <span class="numero-etape">1</span>
            <span class="etiquette-etape">Aisance</span>
          </div>
          <div class="etape" data-etape="2">
            <span class="numero-etape">2</span>
            <span class="etiquette-etape">Spécifications</span>
          </div>
          <div class="etape" data-etape="3">
            <span class="numero-etape">3</span>
            <span class="etiquette-etape">Mesures corps</span>
          </div>
          <div class="etape" data-etape="4">
            <span class="numero-etape">4</span>
            <span class="etiquette-etape">Mesures bras</span>
          </div>
          <div class="etape" data-etape="5">
            <span class="numero-etape">5</span>
            <span class="etiquette-etape">Style</span>
          </div>
        </div>
      </div>

      <form id="formulaire" autocomplete="off">
        <!-- ÉTAPE 1: Choix du mode d'aisance -->
        <div class="etape-formulaire active" data-etape="1">
          <div class="section-formulaire aisance">
            <h2>
              <span class="icone-section">🧵</span> Choix de l'aisance
            </h2>
            <label class="pleine-largeur">
              <span class="texte-label">Aisance du corps :</span>
              <select id="mode_aisance_corps" name="mode_aisance_corps" required>
                <option value="">-- Choisissez --</option>
                <option value="pres_corps">Près du corps (-5 cm)</option>
                <option value="ajuste">Ajusté (0 cm)</option>
                <option value="standard">Standard (+5 cm)</option>
                <option value="large">Large (+10 cm)</option>
                <option value="tres_large">Très large (+20 cm)</option>
                <option value="personnalise">Personnalisé</option>
              </select>
              <span class="message-erreur"></span>
            </label>
            <div id="containerAisancePersoCorps" style="display: none;">
              <label>
                <span class="texte-label">Aisance personnalisée pour le corps (cm) :</span>
                <input type="number" id="aisance_corps" name="aisance_corps" step="0.5" min="-5" max="20" value="10" />
                <span class="texte-aide">Entrez une valeur comprise entre -5 et 20 cm.</span>
                <span class="message-erreur"></span>
              </label>
            </div>

            <label class="pleine-largeur">
              <span class="texte-label">Aisance des manches :</span>
              <select id="mode_aisance_manches" name="mode_aisance_manches" required>
                <option value="">-- Choisissez --</option>
                <option value="pres_corps">Près du corps (-5 cm)</option>
                <option value="ajuste">Ajusté (0 cm)</option>
                <option value="standard">Standard (+5 cm)</option>
                <option value="large">Large (+10 cm)</option>
                <option value="tres_large">Très large (+20 cm)</option>
                <option value="personnalise">Personnalisé</option>
              </select>
              <span class="message-erreur"></span>
            </label>
            <div id="containerAisancePersoManches" style="display: none;">
              <label>
                <span class="texte-label">Aisance personnalisée pour les manches (cm) :</span>
                <input type="number" id="aisance_manches" name="aisance_manches" step="0.5" min="-5" max="20" value="10" />
                <span class="texte-aide">Entrez une valeur comprise entre -5 et 20 cm.</span>
                <span class="message-erreur"></span>
              </label>
            </div>
            <p class="texte-aide" style="margin-top: 12px;">
              <b>Astuce :</b> Vous pouvez choisir une aisance différente pour le corps et les manches selon vos préférences.  
              Plus l'aisance est grande, plus le pull sera ample.
            </p>
          </div>
        </div>

        <!-- ÉTAPE 2: Spécifications techniques -->
        <div class="etape-formulaire" data-etape="2">
          <div class="section-formulaire fil">
            <h2>
              <span class="icone-section">🧶</span> Spécifications techniques
            </h2>
            <div class="deux-colonnes">
              <label>
                <span class="texte-label">🧶 Mailles dans 10 cm</span>
                <span class="texte-aide">Échantillon en jersey endroit</span>
                <input type="number" id="mailles_10cm" name="mailles_10cm" step="0.5" min="10" max="50" required /><span class="message-erreur"></span>
              </label>
              <label>
                <span class="texte-label">🧶 Rangs dans 10 cm</span>
                <span class="texte-aide">Échantillon en jersey endroit</span>
                <input type="number" id="rangs_10cm" name="rangs_10cm" step="0.5" min="10" max="80" required /><span class="message-erreur"></span>
              </label>
            </div>
          </div>
        </div>

        <!-- ÉTAPE 3: Mesures du corps -->
        <div class="etape-formulaire" data-etape="3">
          <div class="section-formulaire corps">
            <h2>
              <span class="icone-section">👤</span> Mesures corporelles
            </h2>
            <div class="deux-colonnes">
              <label>
                <span class="texte-label">📏 Tour de poitrine (cm)</span>
                <span class="texte-aide">Mesurer juste sous la poitrine</span>
                <input type="number" id="tour_poitrine" name="tour_poitrine" step="0.5" min="60" max="150" required /><span class="message-erreur"></span>
              </label>
              <label>
                <span class="texte-label">📏 Largeur arrière de la nuque (cm)</span>
                <span class="texte-aide">Entre les deux bases de la nuque (entre épaules)</span>
                <input type="number" id="largeur_nuque" name="largeur_nuque" step="0.5" min="8" max="25" required /><span class="message-erreur"></span>
              </label>
              <label>
                <span class="texte-label">📏 Hauteur d'emmanchure (cm)</span>
                <span class="texte-aide">De l'épaule à l'aisselle</span>
                <input type="number" id="hauteur_emmanchure" name="hauteur_emmanchure" step="0.5" min="15" max="30" required /><span class="message-erreur"></span>
              </label>
              <label>
                <span class="texte-label">📏 Longueur totale désirée (cm)</span>
                <span class="texte-aide">Depuis l'aisselle jusqu'en bas du pull</span>
                <input type="number" id="longueur_totale" name="longueur_totale" step="0.5" min="30" max="80" required /><span class="message-erreur"></span>
              </label>
            </div>
          </div>
        </div>

        <!-- ÉTAPE 4: Mesures des bras -->
        <div class="etape-formulaire" data-etape="4">
          <div class="section-formulaire bras">
            <h2>
              <span class="icone-section">💪</span> Mesures des bras
            </h2>
            <div class="deux-colonnes">
              <label>
                <span class="texte-label">📏 Longueur des manches (cm)</span>
                <span class="texte-aide">De l'aisselle au poignet</span>
                <input type="number" id="longueur_manches" name="longueur_manches" step="0.5" min="30" max="70" required /><span class="message-erreur"></span>
              </label>
              <label>
                <span class="texte-label">📏 Tour de bras (cm)</span>
                <span class="texte-aide">Au biceps, bras détendu</span>
                <input type="number" id="tour_bras" name="tour_bras" step="0.5" min="20" max="50" required /><span class="message-erreur"></span>
              </label>
              <label>
                <span class="texte-label">📏 Tour de poignet (cm)</span>
                <span class="texte-aide">À la base de la main</span>
                <input type="number" id="tour_poignet" name="tour_poignet" step="0.5" min="12" max="25" required /><span class="message-erreur"></span>
              </label>
            </div>
          </div>
        </div>

        <!-- ÉTAPE 5: Style et finitions -->
        <div class="etape-formulaire" data-etape="5">
          <div class="section-formulaire succes">
            <h2>
              <span class="icone-section">✨</span> Style et finitions
            </h2>
            <label>
              <span class="texte-label">Type d'encolure :</span>
              <select id="encolure" name="encolure" required>
                <option value="">-- Choisissez --</option>
                <option value="ras_cou">Ras du cou</option>
                <option value="v">Encolure en V</option>
                <option value="ronde">Encolure arrondie</option>
                <option value="bateau">Encolure bateau</option>
              </select>
              <span class="message-erreur"></span>
            </label>
            <div class="deux-colonnes">
              <label>
                <span class="texte-label">📏 Longueur côtes du bas (cm)</span>
                <span class="texte-aide">Bordure élastique du bas</span>
                <input type="number" id="cotes_bas" name="cotes_bas" step="0.5" min="2" max="15" value="5" required /><span class="message-erreur"></span>
              </label>
              <label>
                <span class="texte-label">📏 Longueur côtes poignets (cm)</span>
                <span class="texte-aide">Bordure élastique des manches</span>
                <input type="number" id="cotes_poignets" name="cotes_poignets" step="0.5" min="2" max="10" value="5" required /><span class="message-erreur"></span>
              </label>
              <label>
                <span class="texte-label">📏 Longueur côtes encolure (cm)</span>
                <span class="texte-aide">Bordure élastique de l'encolure</span>
                <input type="number" id="cotes_encolure" name="cotes_encolure" step="0.5" min="2" max="10" value="5" required /><span class="message-erreur"></span>
              </label>
            </div>
          </div>
        </div>
      </form>

      <!-- BOUTONS D'ACTION CENTRAUX (PDF, message, loader) -->
      <div class="boutons-action">
        <button type="button" class="bouton-secondaire" onclick="telechargerPDF()" style="display: none;" id="boutonTelecharger">
          📄 Télécharger en PDF
        </button>
      </div>
      <div id="message"></div>
      <div id="résultat"></div>
      <div id="loader" style="display:none;">
        <span class="pelote-anim">🧶</span>
        <span class="loader-text">Génération du patron en cours...</span>
      </div>
    </div>

    <div class="barre-navigation-flottante">
      <button type="button" id="boutonPrecedent" class="btn-nav" style="display: none;">
        ← Précédent
      </button>
      <button type="button" id="boutonSuivant" class="btn-nav">
        Suivant →
      </button>
      <button type="submit" id="boutonSoumettre" class="btn-nav" style="display: none;">
        🧶 Générer le patron
      </button>
    </div>

    <script src="https://unpkg.com/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="js/script.js"></script>
  </body>
</html>
